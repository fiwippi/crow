# crow
## Overview [![GoDoc](https://godoc.org/github.com/fiwippi/crow?status.svg)](https://godoc.org/github.com/fiwippi/crow)
4chan API client + archiver

## Install
```
go get github.com/fiwippi/crow
go mod tidy
```
## Usage
Crow makes it easy to download all files in a thread, errors ignored for brevity:
```go
package main

import (
	"github.com/fiwippi/crow/pkg/api"
	"io"
	"os"
)

func main() {
    // Create the client and retrieve the thread
    c := api.DefaultClient()
    t, _, _ := c.GetThread("570368", "po", false, "http")
    
    // Download all files from the thread
    for _, p := range t.Posts {
        if p.HasFile {
            // Download the file
            m, _ := c.GetFileFromPost(p, "http")
    
            // Create file on fileystem
            out, _ := os.Create(m.FilenameExt)
            defer out.Close()
    
            // Copy the contents to the file
            _, _ = io.Copy(out, m.Body)
        }
    }
}
```

## Notes
### API / Archiver
- `crow/pkg/api` contains the client used to interface with the 4chan API
- `crow/pkg/archiver` contains an example archiver which uses the API to archive threads
- See the `examples/` directory for how to use these two packages

### 4chan API Rules
1. Do not make more than one request per second.
2. Thread updating should be set to a minimum of 10 seconds, preferably higher.
3. Use If-Modified-Since when doing your requests.
4. Make API requests using the same protocol as the app. Only use SSL when a user is accessing your app over HTTPS.

## License
### Type
`MIT`
### Disclaimer
1. The content of this website is for mature audiences only and may not be suitable for minors. If you are a minor or it is illegal for you to access mature images and language, do not proceed.
2. You agree not to hold the Author responsible for any damages from your use of the website, and you understand that the content posted is not owned or generated by 4chan, but rather by 4chan's users.
